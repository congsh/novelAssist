# 修改日志

本文件记录小说辅助创作工具项目的所有重要变更。

## [未发布]

### 新增
- 创建项目设计文档
- 创建数据库设计文档
- 创建项目结构文档
- 创建UI设计文档
- 创建开发步骤文档，用于跟踪项目开发进度
- 创建项目进度报告，总结当前项目状态和下一步建议
- 添加Cursor规则文件
- 添加.npmrc配置文件，设置国内镜像源
- 添加富文本编辑器相关依赖
- 添加Immutable.js依赖
- 添加Electron IPC通信的TypeScript类型定义
- 添加数据库初始化状态检查机制
- 添加数据库表存在性检查功能

### 修改
- 将OpenAI依赖版本从^6.0.0更新为^4.24.1
- 将react-flow-renderer依赖更改为reactflow
- 切换为使用Yarn管理依赖
- 配置网络设置以解决依赖安装问题
- 启用Electron的contextIsolation并配置正确的预加载脚本
- 更新webpack开发服务器配置，支持热重载
- 完善Content Security Policy配置，使用中间件动态设置
- 优化webpack配置，使用source-map提升开发体验
- 改进开发服务器日志和错误提示配置
- 更新TypeScript配置，添加类型定义路径
- 改进数据库管理器，添加初始化状态跟踪
- 优化IPC处理器，确保数据库操作前等待初始化完成

### 修复
- 修复依赖安装过程中的网络连接问题
- 解决证书验证错误
- 修复contextBridge API使用问题
- 解决开发环境下的CSP限制问题
- 修复webpack-dev-server的WebSocket连接问题
- 修复CSP配置不一致导致的unsafe-eval错误
- 修复缺失的编辑器依赖问题
- 修复NovelDetail组件中的中文引号问题
- 修复window.electron类型定义缺失问题
- 修复HTML页面为空的问题，调整CSP配置允许unsafe-eval
- 修复React应用不加载的问题，添加加载提示
- 修复数据库表不存在错误，实现表结构检查和自动创建
- 修复数据库查询前未等待初始化完成的问题

### 删除
- 无

## [0.1.0] - 2023-05-13

### 新增
- 实现基本的Electron应用框架
- 添加React前端界面
- 集成SQLite数据库
- 实现小说管理基础功能
- 实现章节编辑基础功能

## 版本规范

本项目遵循[语义化版本控制](https://semver.org/lang/zh-CN/)规范：

- 主版本号：不兼容的API变更
- 次版本号：向后兼容的功能性新增
- 修订号：向后兼容的问题修正 